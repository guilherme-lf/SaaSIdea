<div class="container mt-4">
    <h2 class="mb-4">Dashboard Administrativo</h2>
  
    <!-- Cards de Resumo -->
    <div class="row mb-4">
      <div class="col-md-3" *ngIf="isAdmin">
        <div class="card text-white bg-primary mb-3">
          <div class="card-body">
            <h5 class="card-title">Produtos</h5>
            <p class="card-text">{{ totalProdutos }}</p>
          </div>
        </div>
      </div>
      <div class="col-md-3" *ngIf="isAdmin">
        <div class="card text-white bg-success mb-3">
          <div class="card-body">
            <h5 class="card-title">Vendas</h5>
            <p class="card-text">{{ totalVendas }}</p>
          </div>
        </div>
      </div>
      <div class="col-md-3" *ngIf="isAdmin">
        <div class="card text-white bg-warning mb-3">
          <div class="card-body">
            <h5 class="card-title">Movimentações</h5>
            <p class="card-text">{{ totalMovimentacoes }}</p>
          </div>
        </div>
      </div>
      <div class="col-md-3" *ngIf="isAdmin">
        <div class="card text-white bg-danger mb-3">
          <div class="card-body">
            <h5 class="card-title">Atendentes</h5>
            <p class="card-text">{{ totalAtendentes }}</p>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Últimas Vendas -->
    <div class="card mb-4" *ngIf="isAdmin">
      <div class="card-header">
        Últimas Vendas
      </div>
      <div class="card-body p-0">
        <table class="table table-striped mb-0">
          <thead>
            <tr>
              <th>ID</th>
              <th>Data</th>
              <th>Atendente</th>
              <th>Total</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let venda of ultimasVendas">
              <td>{{ venda.id }}</td>
              <td>{{ venda.data | date: 'short' }}</td>
              <td>{{ venda.atendente }}</td>
              <td>R$ {{ venda.total.toFixed(2) }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  
    <!-- Gráfico de Vendas (opcional) -->
    <div class="card" *ngIf="isAdmin">
      <div class="card-header">
        Gráfico de Vendas da Semana
      </div>
      <div class="card-body">
        <canvas id="graficoVendas" height="100"></canvas>
      </div>
    </div>
  </div>
  
  </div>
  
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const ctx = document.getElementById('grafico-vendas');
    new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb', 'Dom'],
        datasets: [{
          label: 'Vendas (R$)',
          data: [300, 450, 120, 600, 750, 200, 400],
          backgroundColor: '#007bff'
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { display: false }
        },
        scales: {
          y: {
            beginAtZero: true,
            ticks: { callback: value => `R$ ${value}` }
          }
        }
      }
    });
  </script>
  